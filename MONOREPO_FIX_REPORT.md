<!--
  @copyright Copyright (c) 2025 chichuang
  @license MIT
  @description cc-early-bird ä¼ä¸šçº§åå°ç®¡ç†æ¡†æ¶ - Monorepo ä¿®å¤æŠ¥å‘Š
  æœ¬æ–‡ä»¶ä¸º chichuang åŸåˆ›ï¼Œç¦æ­¢æ“…è‡ªåˆ é™¤ç½²åæˆ–ç”¨äºå•†ä¸šç”¨é€”ã€‚
-->

# Monorepo ä¿®å¤æŠ¥å‘Š

## ğŸ‰ ä¿®å¤å®ŒæˆçŠ¶æ€

**âœ… ä¿®å¤å·²æˆåŠŸå®Œæˆï¼** early-bird å·²æˆåŠŸæ¸…ç†é‡å¤æ–‡ä»¶å¹¶ä¼˜åŒ–ä¸ºæ¸…æ™°çš„ monorepo æ¶æ„ã€‚

## ğŸ“Š ä¿®å¤ç»Ÿè®¡

### âœ… å·²åˆ é™¤çš„é‡å¤æ–‡ä»¶ (100%)

1. **æ ¹ç›®å½•é‡å¤æ–‡ä»¶** âœ…
   - `src/utils/` â†’ å·²åˆ é™¤ï¼ŒåŠŸèƒ½è¿ç§»åˆ° `packages/core/utils/`
   - `src/stores/` â†’ å·²åˆ é™¤ï¼ŒåŠŸèƒ½è¿ç§»åˆ° `packages/core/stores/`
   - `src/router/` â†’ å·²åˆ é™¤ï¼ŒåŠŸèƒ½è¿ç§»åˆ° `packages/core/router/`
   - `src/api/` â†’ å·²åˆ é™¤ï¼ŒåŠŸèƒ½è¿ç§»åˆ° `packages/core/api/`
   - `src/components/` â†’ å·²åˆ é™¤ï¼ŒåŠŸèƒ½è¿ç§»åˆ° `packages/ui/components/`
   - `src/layouts/` â†’ å·²åˆ é™¤ï¼ŒåŠŸèƒ½è¿ç§»åˆ° `packages/ui/layouts/`
   - `src/assets/` â†’ å·²åˆ é™¤ï¼ŒåŠŸèƒ½è¿ç§»åˆ° `packages/ui/assets/`
   - `src/main.ts` â†’ å·²åˆ é™¤ï¼Œä½¿ç”¨ `apps/admin/src/main.ts`
   - `src/App.vue` â†’ å·²åˆ é™¤ï¼Œä½¿ç”¨ `apps/admin/src/App.vue`

2. **é‡å¤é…ç½®æ–‡ä»¶** âœ…
   - `apps/admin/vite.config.ts` â†’ å·²åˆ é™¤ï¼Œä½¿ç”¨æ ¹ç›®å½•é…ç½®
   - `apps/admin/tsconfig.json` â†’ å·²åˆ é™¤ï¼Œä½¿ç”¨æ ¹ç›®å½•é…ç½®
   - `apps/admin/index.html` â†’ å·²åˆ é™¤ï¼Œä½¿ç”¨æ ¹ç›®å½•é…ç½®

### âœ… å·²ä¼˜åŒ–çš„é…ç½® (100%)

1. **Vite é…ç½®ä¼˜åŒ–** âœ…
   - æ›´æ–° `vite.config.ts` æ”¯æŒ monorepo
   - ä¿®æ”¹ root è·¯å¾„ä¸º `apps/admin`
   - æ·»åŠ åŒ…åˆ«åé…ç½®
   - æ›´æ–°æ„å»ºå…¥å£è·¯å¾„

2. **TypeScript é…ç½®ä¼˜åŒ–** âœ…
   - æ›´æ–° `tsconfig.json` è·¯å¾„åˆ«å
   - æ›´æ–° `tsconfig.app.json` åŒ…å«è·¯å¾„
   - æ·»åŠ  monorepo åŒ…åˆ«å

3. **æ„å»ºå·¥å…·é…ç½®ä¼˜åŒ–** âœ…
   - æ›´æ–° `build/utils.ts` åˆ«åé…ç½®
   - ç»Ÿä¸€è·¯å¾„è§£æé€»è¾‘

### âœ… æ–°å¢å…¬å…±å·¥å…·å‡½æ•° (100%)

1. **å…¬å…±å·¥å…·å‡½æ•°æ¨¡å—** âœ…
   - åˆ›å»º `packages/core/utils/common.ts`
   - åŒ…å«é˜²æŠ–ã€èŠ‚æµã€æ·±æ‹·è´ç­‰å¸¸ç”¨å‡½æ•°
   - åŒ…å«æ—¥æœŸæ ¼å¼åŒ–ã€IDç”Ÿæˆç­‰å·¥å…·å‡½æ•°
   - åŒ…å«éªŒè¯å‡½æ•°ï¼ˆURLã€é‚®ç®±ã€æ‰‹æœºå·ï¼‰
   - åŒ…å«æ–‡ä»¶å¤„ç†å‡½æ•°
   - åŒ…å«é‡è¯•å’Œç¡çœ å‡½æ•°

2. **å·¥å…·å‡½æ•°å¯¼å‡ºä¼˜åŒ–** âœ…
   - æ›´æ–° `packages/core/utils/index.ts`
   - ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰å·¥å…·å‡½æ•°
   - æ·»åŠ ç±»å‹å¯¼å‡º

## ğŸ—ï¸ æ–°çš„æ¶æ„ç»“æ„

```
cc-admin/
â”œâ”€â”€ packages/           # å…±äº«åŒ…
â”‚   â”œâ”€â”€ core/          # æ ¸å¿ƒæ¡†æ¶åŒ…
â”‚   â”‚   â”œâ”€â”€ api/       # APIæ¥å£ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ stores/    # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ router/    # è·¯ç”±ç®¡ç†
â”‚   â”‚   â””â”€â”€ utils/     # å·¥å…·å‡½æ•° (åŒ…å«å…¬å…±å‡½æ•°)
â”‚   â”œâ”€â”€ ui/            # UIç»„ä»¶åº“åŒ…
â”‚   â”‚   â”œâ”€â”€ components/# é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layouts/   # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ assets/    # é™æ€èµ„æº
â”‚   â””â”€â”€ types/         # ç±»å‹å®šä¹‰åŒ…
â”œâ”€â”€ apps/              # åº”ç”¨åŒ…
â”‚   â””â”€â”€ admin/         # ä¸»ç®¡ç†åå°åº”ç”¨
â”œâ”€â”€ docs/              # æ–‡æ¡£
â”œâ”€â”€ scripts/           # å¼€å‘è„šæœ¬
â””â”€â”€ build/             # æ„å»ºé…ç½®
```

## ğŸ“¦ åŒ…é…ç½®è¯¦æƒ…

### @cc-admin/core

- **åŠŸèƒ½**: æ ¸å¿ƒæ¡†æ¶åŒ…
- **ä¾èµ–**: Vue, Vue Router, Pinia, Alova
- **å¯¼å‡º**: API, Stores, Router, Utils (åŒ…å«å…¬å…±å‡½æ•°)
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

### @cc-admin/ui

- **åŠŸèƒ½**: UIç»„ä»¶åº“åŒ…
- **ä¾èµ–**: Vue, @cc-admin/core
- **å¯¼å‡º**: Components, Layouts, Assets
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

### @cc-admin/types

- **åŠŸèƒ½**: ç±»å‹å®šä¹‰åŒ…
- **ä¾èµ–**: æ— 
- **å¯¼å‡º**: å…¨å±€ç±»å‹å®šä¹‰
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

### @cc-admin/app-admin

- **åŠŸèƒ½**: ä¸»ç®¡ç†åå°åº”ç”¨
- **ä¾èµ–**: @cc-admin/core, @cc-admin/ui, @cc-admin/types
- **è„šæœ¬**: dev, build, preview, type-check
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

## ğŸ”§ å¼€å‘å‘½ä»¤æ›´æ–°

### æ ¹ç›®å½•å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼
pnpm dev                    # å¯åŠ¨ä¸»åº”ç”¨
pnpm dev:admin             # å¯åŠ¨ç®¡ç†åå°

# æ„å»º
pnpm build                 # æ„å»ºä¸»åº”ç”¨
pnpm build:analyze         # æ„å»ºåˆ†æ

# ä»£ç æ£€æŸ¥
pnpm type-check           # ç±»å‹æ£€æŸ¥
pnpm lint                 # ä»£ç æ£€æŸ¥
pnpm format               # ä»£ç æ ¼å¼åŒ–

# å·¥ä½œç©ºé—´ç®¡ç†
pnpm workspace:install    # å®‰è£…ä¾èµ–
pnpm workspace:clean      # æ¸…ç†å¹¶é‡æ–°å®‰è£…
pnpm workspace:build      # æ„å»ºæ‰€æœ‰åŒ…
pnpm workspace:dev        # å¼€å‘æ‰€æœ‰åŒ…
pnpm workspace:type-check # ç±»å‹æ£€æŸ¥æ‰€æœ‰åŒ…
```

### åº”ç”¨ç‰¹å®šå‘½ä»¤

```bash
# ç®¡ç†åå°åº”ç”¨
pnpm --filter @cc-admin/app-admin dev
pnpm --filter @cc-admin/app-admin build
pnpm --filter @cc-admin/app-admin type-check
```

## ğŸ†• æ–°å¢å…¬å…±å·¥å…·å‡½æ•°

### é˜²æŠ–å’ŒèŠ‚æµ

```typescript
import { debounce, throttle } from '@cc-admin/core/utils'

// é˜²æŠ–
const debouncedSearch = debounce(searchFunction, 300)

// èŠ‚æµ
const throttledScroll = throttle(scrollHandler, 100)
```

### æ·±æ‹·è´å’ŒéªŒè¯

```typescript
import { deepClone, isValidEmail, isValidPhone } from '@cc-admin/core/utils'

// æ·±æ‹·è´
const clonedData = deepClone(originalData)

// éªŒè¯
const isValid = isValidEmail('test@example.com')
const isPhoneValid = isValidPhone('13800138000')
```

### æ—¥æœŸå’Œæ–‡ä»¶å¤„ç†

```typescript
import { formatDate, formatFileSize, generateId } from '@cc-admin/core/utils'

// æ—¥æœŸæ ¼å¼åŒ–
const formattedDate = formatDate(new Date(), 'YYYY-MM-DD')

// æ–‡ä»¶å¤§å°æ ¼å¼åŒ–
const fileSize = formatFileSize(1024 * 1024) // "1 MB"

// ç”Ÿæˆå”¯ä¸€ID
const id = generateId()
```

### é‡è¯•å’Œç¡çœ 

```typescript
import { retry, sleep } from '@cc-admin/core/utils'

// é‡è¯•å‡½æ•°
const result = await retry(asyncFunction, 3, 1000)

// ç¡çœ 
await sleep(1000) // ç­‰å¾…1ç§’
```

## ğŸ”„ ä¿ç•™çš„åŸæœ‰åŠŸèƒ½

âœ… **è‡ªåŠ¨åŒ–æ¨¡å—å¯¼å…¥æœºåˆ¶**

- ä¿æŒåŸæœ‰çš„ `moduleLoader.ts` æœºåˆ¶
- æ”¯æŒ `autoImportModulesSync` å‡½æ•°
- æ¨¡å—è‡ªåŠ¨å‘ç°å’ŒåŠ è½½

âœ… **ç»Ÿä¸€çš„ç›®å½•ç»“æ„**

- ä¿æŒ `index.ts + modules/` ç»“æ„
- æ¨¡å—åŒ–ç»„ç»‡æ–¹å¼
- æ¸…æ™°çš„å¯¼å…¥å¯¼å‡º

âœ… **å®Œæ•´çš„å·¥å…·é“¾**

- ESLint + Prettier é…ç½®
- TypeScript ä¸¥æ ¼æ¨¡å¼
- Git Hooks è‡ªåŠ¨æ£€æŸ¥

âœ… **å¼€å‘ä½“éªŒä¼˜åŒ–**

- çƒ­æ›´æ–°æœºåˆ¶
- ç±»å‹æç¤ºå®Œæ•´
- ä»£ç è·³è½¬æ­£å¸¸

## ğŸ¯ ä¿®å¤æ•ˆæœ

### æ¸…ç†å‰çš„é—®é¢˜

- âŒ é‡å¤çš„ç›®å½•ç»“æ„
- âŒ é‡å¤çš„é…ç½®æ–‡ä»¶
- âŒ æ··ä¹±çš„ä¾èµ–å…³ç³»
- âŒ è‡ƒè‚¿çš„ä»£ç ç»“æ„

### æ¸…ç†åçš„ä¼˜åŠ¿

- âœ… æ¸…æ™°çš„ monorepo æ¶æ„
- âœ… æ— é‡å¤çš„ç›®å½•ç»“æ„
- âœ… ç»Ÿä¸€çš„ä¾èµ–ç®¡ç†
- âœ… æ­£ç¡®çš„åŒ…é—´å¼•ç”¨å…³ç³»
- âœ… ç¬¦åˆ monorepo æœ€ä½³å®è·µ
- âœ… ä¸°å¯Œçš„å…¬å…±å·¥å…·å‡½æ•°

## ğŸ“ åç»­å»ºè®®

1. **æŒç»­ä¼˜åŒ–**
   - å®šæœŸæ£€æŸ¥åŒ…é—´ä¾èµ–å…³ç³»
   - åŠæ—¶æå–å…¬å…±å‡½æ•°åˆ°å·¥å…·æ¨¡å—
   - ä¿æŒä»£ç ç»“æ„æ¸…æ™°

2. **æ–‡æ¡£æ›´æ–°**
   - æ›´æ–°å¼€å‘æ–‡æ¡£
   - æ·»åŠ å…¬å…±å‡½æ•°ä½¿ç”¨æŒ‡å—
   - å®Œå–„ monorepo æœ€ä½³å®è·µ

3. **æµ‹è¯•è¦†ç›–**
   - ä¸ºå…¬å…±å·¥å…·å‡½æ•°æ·»åŠ å•å…ƒæµ‹è¯•
   - ç¡®ä¿åŒ…é—´é›†æˆæµ‹è¯•
   - éªŒè¯æ„å»ºå’Œéƒ¨ç½²æµç¨‹

## ğŸ‰ æ€»ç»“

early-bird å·²æˆåŠŸä»æ··ä¹±çš„å•ä½“åº”ç”¨å‡çº§ä¸ºæ¸…æ™°çš„ monorepo æ¶æ„ï¼Œå®ç°äº†ï¼š

- **ä»£ç å¤ç”¨**: é€šè¿‡ packages å®ç°è·¨åº”ç”¨ä»£ç å…±äº«
- **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ
- **å¼€å‘æ•ˆç‡**: ç»Ÿä¸€çš„å·¥å…·é“¾å’Œè‡ªåŠ¨åŒ–æµç¨‹
- **ç»´æŠ¤æ€§**: æ¸…æ™°çš„ç›®å½•ç»“æ„å’Œæ¨¡å—åŒ–è®¾è®¡
- **æ‰©å±•æ€§**: æ˜“äºæ·»åŠ æ–°çš„åº”ç”¨å’ŒåŒ…

é¡¹ç›®ç°åœ¨å®Œå…¨ç¬¦åˆç°ä»£ monorepo æœ€ä½³å®è·µï¼Œä¸ºåç»­çš„åŠŸèƒ½å¼€å‘å’Œå›¢é˜Ÿåä½œå¥ å®šäº†åšå®çš„åŸºç¡€ã€‚
