# CC-Admin é¡¹ç›®æ¶æ„æ€»ç»“

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

CC-Admin æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + TypeScript + Vite çš„ç°ä»£åŒ–ç®¡ç†åå°é¡¹ç›®ï¼Œé‡‡ç”¨ç»Ÿä¸€çš„ç›®å½•ç»“æ„è®¾è®¡ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æ¨¡å—å¯¼å…¥æœºåˆ¶å®ç°é«˜æ•ˆçš„ä»£ç ç»„ç»‡å’Œç®¡ç†ã€‚

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 7.0
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±ç®¡ç†**: Vue Router 4
- **HTTP å®¢æˆ·ç«¯**: Alova (æ›¿ä»£ Axios)
- **CSS æ¡†æ¶**: SCSS + UnoCSS (åŸå­åŒ– CSS)
- **ä¸»é¢˜ç³»ç»Ÿ**: åŠ¨æ€CSSå˜é‡ + PiniaçŠ¶æ€ç®¡ç†
- **åŒ…ç®¡ç†å™¨**: pnpm
- **Node.js ç‰ˆæœ¬**: 24.3.0

## ğŸ“ ç»Ÿä¸€ç›®å½•ç»“æ„

### ç»“æ„æ¨¡å¼

æ‰€æœ‰åŠŸèƒ½æ€§ç›®å½•éƒ½éµå¾ªç»Ÿä¸€çš„ç»“æ„æ¨¡å¼ï¼š

```
åŠŸèƒ½ç›®å½•/
â”œâ”€â”€ index.ts      # å…¥å£æ–‡ä»¶ï¼Œä½¿ç”¨è‡ªåŠ¨å¯¼å…¥æœºåˆ¶
â””â”€â”€ modules/      # å…·ä½“åŠŸèƒ½æ¨¡å—ç›®å½•
    â”œâ”€â”€ module1.ts
    â”œâ”€â”€ module2.ts
    â””â”€â”€ ...
```

### å·²å®ç°çš„åŠŸèƒ½ç›®å½•

#### 1. API ç®¡ç† (`src/api/`)

```
src/api/
â”œâ”€â”€ index.ts           # API å…¥å£æ–‡ä»¶
â””â”€â”€ modules/
    â””â”€â”€ test.ts        # æµ‹è¯• API æ¨¡å—
```

**ç‰¹ç‚¹**:

- è‡ªåŠ¨å¯¼å…¥æ‰€æœ‰ API æ¨¡å—
- æ”¯æŒ `import { testAPI } from '@/api'` å’Œ `import api from '@/api'` ä¸¤ç§ç”¨æ³•
- ä½¿ç”¨ Alova ä½œä¸º HTTP å®¢æˆ·ç«¯

#### 2. çŠ¶æ€ç®¡ç† (`src/stores/`)

```
src/stores/
â”œâ”€â”€ index.ts           # Store å…¥å£æ–‡ä»¶
â””â”€â”€ modules/
    â”œâ”€â”€ app.ts         # åº”ç”¨çŠ¶æ€ç®¡ç†
    â”œâ”€â”€ color.ts       # é¢œè‰²ä¸»é¢˜ç®¡ç†
    â”œâ”€â”€ size.ts        # å°ºå¯¸é…ç½®ç®¡ç†
    â”œâ”€â”€ layout.ts      # å¸ƒå±€çŠ¶æ€ç®¡ç†
    â””â”€â”€ user.ts        # ç”¨æˆ·çŠ¶æ€ç®¡ç†
```

**ç‰¹ç‚¹**:

- åŸºäº Pinia çš„å“åº”å¼çŠ¶æ€ç®¡ç†
- è‡ªåŠ¨å¯¼å…¥æ‰€æœ‰ Store æ¨¡å—
- æ”¯æŒ `import { useAppStore, useColorStore, useSizeStore } from '@/stores'` ç”¨æ³•
- æ¨¡å—åŒ–ä¸»é¢˜ç³»ç»Ÿï¼Œé¢œè‰²å’Œå°ºå¯¸ç®¡ç†åˆ†ç¦»
- å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ

#### 3. è·¯ç”±ç®¡ç† (`src/router/`)

```
src/router/
â”œâ”€â”€ index.ts           # è·¯ç”±å…¥å£æ–‡ä»¶
â””â”€â”€ modules/
    â”œâ”€â”€ dashboard.ts   # ä»ªè¡¨ç›˜è·¯ç”±
    â””â”€â”€ test.ts        # æµ‹è¯•è·¯ç”±
```

**ç‰¹ç‚¹**:

- è‡ªåŠ¨åˆå¹¶æ‰€æœ‰è·¯ç”±æ¨¡å—
- æ”¯æŒè·¯ç”±å®ˆå«å’Œé¡µé¢æ ‡é¢˜è®¾ç½®
- æ¨¡å—åŒ–è·¯ç”±é…ç½®

#### 4. Hooks ç®¡ç† (`src/hooks/`)

```
src/hooks/
â”œâ”€â”€ index.ts           # Hooks å…¥å£æ–‡ä»¶
â””â”€â”€ modules/
    â””â”€â”€ (å¾…æ·»åŠ )       # è‡ªå®šä¹‰ Hook æ¨¡å—
```

**ç‰¹ç‚¹**:

- é¢„ç•™äº†å®Œæ•´çš„ç»“æ„æ¡†æ¶
- æ”¯æŒè‡ªå®šä¹‰ Vue 3 Composition API hooks

#### 5. å…¬å…±æ¨¡å— (`src/common/`)

```
src/common/
â”œâ”€â”€ index.ts           # å…¬å…±æ¨¡å—å…¥å£æ–‡ä»¶
â””â”€â”€ modules/
    â”œâ”€â”€ constants.ts   # å¸¸é‡å®šä¹‰
    â””â”€â”€ helpers.ts     # å·¥å…·å‡½æ•°é›†åˆ
```

**ç‰¹ç‚¹**:

- `constants.ts`: åº”ç”¨çº§å¸¸é‡ç®¡ç†ï¼ˆAPIé…ç½®ã€å­˜å‚¨é”®åã€è·¯ç”±å¸¸é‡ç­‰ï¼‰
- `helpers.ts`: é€šç”¨å·¥å…·å‡½æ•°ï¼ˆæ—¥æœŸæ ¼å¼åŒ–ã€é˜²æŠ–èŠ‚æµã€æ·±æ‹·è´ç­‰ï¼‰
- `function.ts`: ç³»ç»Ÿçº§åŠŸèƒ½å‡½æ•°ï¼ˆç³»ç»Ÿä¸»é¢˜æ£€æµ‹ã€ç¯å¢ƒåˆ¤æ–­ç­‰ï¼‰
- `router.ts`: è·¯ç”±ç›¸å…³å·¥å…·å‡½æ•°

## ğŸ”§ è‡ªåŠ¨å¯¼å…¥æœºåˆ¶

### æ ¸å¿ƒå·¥å…·

ä½äº `src/utils/moduleLoader.ts`ï¼Œæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

- `autoImportModulesSync()`: åŒæ­¥è‡ªåŠ¨å¯¼å…¥æ¨¡å—
- `autoImportModules()`: å¼‚æ­¥è‡ªåŠ¨å¯¼å…¥æ¨¡å—

### å·¥ä½œåŸç†

1. ä½¿ç”¨ Vite çš„ `import.meta.glob()` æ‰«æ `modules/` ç›®å½•
2. é€šè¿‡ `autoImportModulesSync()` å¤„ç†å¹¶å¯¼å…¥æ‰€æœ‰æ¨¡å—
3. è‡ªåŠ¨ç”Ÿæˆç»Ÿä¸€çš„å¯¼å‡ºæ¥å£
4. æ”¯æŒé»˜è®¤å¯¼å‡ºå’Œå…·åå¯¼å‡ºä¸¤ç§æ–¹å¼

### ä½¿ç”¨ç¤ºä¾‹

```typescript
// API ç¤ºä¾‹
import { testAPI } from '@/api' // å…·åå¯¼å…¥
import api from '@/api' // é»˜è®¤å¯¼å…¥

// Store ç¤ºä¾‹
import { useAppStore } from '@/stores'

// å…¬å…±æ¨¡å—ç¤ºä¾‹
import { constants, helpers, functions, router } from '@/common'
```

## ğŸ› ï¸ è·¯å¾„åˆ«åé…ç½®

é¡¹ç›®é…ç½®äº†å®Œæ•´çš„è·¯å¾„åˆ«åæ”¯æŒï¼š

```typescript
// Vite é…ç½® (build/utils.ts)
export const alias: Record<string, string> = {
  '@': pathResolve('../src'),
  '@api': pathResolve('../src/api'),
  '@stores': pathResolve('../src/stores'),
  '@router': pathResolve('../src/router'),
  '@hooks': pathResolve('../src/hooks'),
  '@common': pathResolve('../src/common'),
  '@utils': pathResolve('../src/utils'),
  '@components': pathResolve('../src/components'),
  '@views': pathResolve('../src/views'),
  '@assets': pathResolve('../src/assets'),
  // ... å…¶ä»–åˆ«å
}
```

åŒæ—¶åœ¨ `tsconfig.app.json` ä¸­é…ç½®äº†ç›¸åº”çš„ TypeScript è·¯å¾„æ˜ å°„ã€‚

## ğŸ¨ ç°ä»£åŒ–ä¸»é¢˜ç³»ç»Ÿ

### ğŸ”¥ é‡æ„äº®ç‚¹ (v2.0)

é¡¹ç›®å·²é‡æ„ä¸ºç‹¬ç«‹çš„**é¢œè‰²ç®¡ç†**(`color.ts`)å’Œ**å°ºå¯¸ç®¡ç†**(`size.ts`)æ¨¡å—ï¼Œå®ç°äº†æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤çš„ä¸»é¢˜é…ç½®æ¶æ„ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **ä¸‰æ¨¡å¼æ”¯æŒ**: Light/Dark/Auto ä¸»é¢˜æ¨¡å¼ï¼ŒAuto å¯è‡ªåŠ¨è·Ÿéšç³»ç»Ÿ
- **æ¨¡å—åŒ–ç®¡ç†**: é¢œè‰²å’Œå°ºå¯¸é…ç½®å®Œå…¨åˆ†ç¦»ï¼ŒèŒè´£æ¸…æ™°
- **ä¸°å¯Œçš„é¢„è®¾**: 5ç§åŠŸèƒ½è‰²ç³» + 3ç§å°ºå¯¸é¢„è®¾
- **å®Œæ•´ç±»å‹æ”¯æŒ**: TypeScript ç±»å‹å®‰å…¨çš„ä¸»é¢˜é…ç½®
- **åŠ¨æ€CSSå˜é‡**: è¿è¡Œæ—¶å®æ—¶æ›´æ–°ï¼Œæ— éœ€é‡æ–°ç¼–è¯‘
- **æŒä¹…åŒ–å­˜å‚¨**: ç”¨æˆ·è®¾ç½®è‡ªåŠ¨ä¿å­˜å’Œæ¢å¤

### é¢œè‰²ç®¡ç†ç³»ç»Ÿ (color.ts)

#### ä¸»é¢˜æ¨¡å¼

```typescript
// ä¸‰ç§ä¸»é¢˜æ¨¡å¼
colorStore.setMode('light') // äº®è‰²ä¸»é¢˜
colorStore.setMode('dark') // æš—è‰²ä¸»é¢˜
colorStore.setMode('auto') // è‡ªåŠ¨è·Ÿéšç³»ç»Ÿ

// ä¾¿æ·æ–¹æ³•
colorStore.toggleMode() // å¿«é€Ÿåˆ‡æ¢ light/dark
console.log(colorStore.getMode) // è·å–å½“å‰å®é™…æ¨¡å¼
```

#### åŠŸèƒ½è‰²ç³»

```css
/* å®Œæ•´çš„åŠŸèƒ½è‰²å˜é‡ */
--primary-color             /* ä¸»è‰² */
--primary-hover-color       /* ä¸»è‰²æ‚¬åœ */
--success-color             /* æˆåŠŸè‰² */
--warning-color             /* è­¦å‘Šè‰² */
--error-color               /* é”™è¯¯è‰² */
--info-color                /* ä¿¡æ¯è‰² */

/* ä¸»é¢˜ç›¸å…³ */
--theme-color               /* ä¸»é¢˜é¢œè‰² */
--theme-text-color          /* ä¸»é¢˜æ–‡å­—è‰² */
--background-color          /* èƒŒæ™¯é¢œè‰² */
--text-color                /* æ–‡å­—é¢œè‰² */
```

### å°ºå¯¸ç®¡ç†ç³»ç»Ÿ (size.ts)

#### å°ºå¯¸é¢„è®¾

```typescript
// ä¸‰ç§å°ºå¯¸æ¨¡å¼
sizeStore.setSize('compact') // ç´§å‡‘å°ºå¯¸
sizeStore.setSize('comfortable') // èˆ’é€‚å°ºå¯¸ï¼ˆé»˜è®¤ï¼‰
sizeStore.setSize('loose') // å®½æ¾å°ºå¯¸

// å¸ƒå±€å°ºå¯¸æ§åˆ¶
console.log(sizeStore.getSidebarWidth) // ä¾§è¾¹æ å®½åº¦
console.log(sizeStore.getHeaderHeight) // å¤´éƒ¨é«˜åº¦
```

#### é—´è·ç³»ç»Ÿ

```css
/* åŠ¨æ€é—´è·å˜é‡ */
--gap                       /* å½“å‰æ¿€æ´»çš„é—´è·å€¼ */
--gap-xs                    /* è¶…å°é—´è· */
--gap-sm                    /* å°é—´è· */
--gap-md                    /* ä¸­ç­‰é—´è· */
--gap-lg                    /* å¤§é—´è· */
--gap-xl                    /* è¶…å¤§é—´è· */

/* å¸ƒå±€å˜é‡ */
--sidebar-width             /* ä¾§è¾¹æ å®½åº¦ */
--header-height             /* å¤´éƒ¨é«˜åº¦ */
--footer-height             /* åº•éƒ¨é«˜åº¦ */
```

### ä½¿ç”¨ä¼˜åŠ¿

- **ğŸ¯ èŒè´£åˆ†ç¦»**: é¢œè‰²å’Œå°ºå¯¸ç®¡ç†ç‹¬ç«‹ï¼Œæ˜“äºç»´æŠ¤
- **ğŸ”„ å“åº”å¼**: è‡ªåŠ¨è·Ÿéšç³»ç»Ÿä¸»é¢˜å˜åŒ–
- **âš¡ é«˜æ€§èƒ½**: é«˜æ•ˆçš„CSSå˜é‡æ›´æ–°æœºåˆ¶
- **ğŸ› ï¸ å¼€å‘å‹å¥½**: æ¸…æ™°çš„APIè®¾è®¡å’Œå®Œæ•´çš„ç±»å‹æç¤º
- **ğŸ“± ç°ä»£åŒ–**: æ”¯æŒæœ€æ–°çš„è®¾è®¡ç³»ç»Ÿç†å¿µ

### å®é™…åº”ç”¨

```vue
<template>
  <div class="modern-card">
    <h3>{{ title }}</h3>
    <p>{{ content }}</p>
    <button class="action-btn">æ“ä½œæŒ‰é’®</button>
  </div>
</template>

<style scoped>
.modern-card {
  /* ä½¿ç”¨åŠ¨æ€é—´è·å’ŒèƒŒæ™¯ */
  padding: var(--gap);
  margin-bottom: var(--gap);
  background-color: var(--background-color);
  color: var(--text-color);
  border: 1px solid var(--background-highlight-color);
  border-radius: 8px;
}

.action-btn {
  /* ä½¿ç”¨ä¸»é¢˜è‰²å’Œé—´è· */
  padding: var(--gap-sm) var(--gap);
  background-color: var(--primary-color);
  color: var(--theme-text-color);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.action-btn:hover {
  background-color: var(--primary-hover-color);
}
</style>
```

## âœ¨ é¡¹ç›®ä¼˜åŠ¿

### 1. ç»“æ„ç»Ÿä¸€æ€§

- æ‰€æœ‰åŠŸèƒ½ç›®å½•éƒ½éµå¾ªç›¸åŒçš„ç»“æ„æ¨¡å¼
- é™ä½å­¦ä¹ æˆæœ¬ï¼Œæé«˜å¼€å‘æ•ˆç‡

### 2. è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜

- æ–°å¢æ¨¡å—æ—¶æ— éœ€æ‰‹åŠ¨ç»´æŠ¤å¯¼å…¥å¯¼å‡º
- å‡å°‘äººä¸ºé”™è¯¯ï¼Œæé«˜ä»£ç è´¨é‡

### 3. ç±»å‹å®‰å…¨

- å®Œæ•´çš„ TypeScript æ”¯æŒ
- è‡ªåŠ¨ç±»å‹æ¨æ–­å’Œæ£€æŸ¥

### 4. æ˜“äºç»´æŠ¤

- æ¸…æ™°çš„ç›®å½•ç»“æ„
- æ¨¡å—åŒ–è®¾è®¡ï¼ŒèŒè´£åˆ†ç¦»æ˜ç¡®

### 5. æ‰©å±•æ€§å¼º

- å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„åŠŸèƒ½ç›®å½•
- æ”¯æŒå¤æ‚çš„æ¨¡å—ä¾èµ–å…³ç³»

### 6. ğŸ”¥ ç°ä»£åŒ–ä¸»é¢˜ç³»ç»Ÿä¼˜åŠ¿ï¼ˆv2.0é‡æ„ï¼‰

- **æ¨¡å—åŒ–æ¶æ„**: é¢œè‰²å’Œå°ºå¯¸ç®¡ç†å®Œå…¨åˆ†ç¦»ï¼ŒèŒè´£æ¸…æ™°
- **æ™ºèƒ½å“åº”**: Autoæ¨¡å¼è‡ªåŠ¨è·Ÿéšç³»ç»Ÿä¸»é¢˜ï¼Œæ— éœ€æ‰‹åŠ¨åˆ‡æ¢
- **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptç±»å‹æ”¯æŒå’Œæ™ºèƒ½æç¤º
- **æ€§èƒ½ä¼˜åŒ–**: é«˜æ•ˆçš„CSSå˜é‡æ›´æ–°æœºåˆ¶ï¼Œé¿å…é‡æ–°æ¸²æŸ“
- **å¼€å‘ä½“éªŒ**: æ¸…æ™°çš„APIè®¾è®¡ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨å’Œæ‰¹é‡æ“ä½œ
- **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„è®¾è®¡è§„èŒƒå’Œå˜é‡å‘½åçº¦å®š

## ğŸ“‹ å¼€å‘è§„èŒƒ

### æ·»åŠ æ–°æ¨¡å—çš„æ­¥éª¤

1. **åˆ›å»ºæ¨¡å—æ–‡ä»¶**

   ```typescript
   // ä¾‹å¦‚ï¼šsrc/api/modules/user.ts
   export const userAPI = {
     getUser: () => alovaInstance.Get('/user'),
     // ... å…¶ä»–æ¥å£
   }

   export default userAPI
   ```

2. **æ›´æ–°å…¥å£æ–‡ä»¶**

   ```typescript
   // src/api/index.ts
   export const testAPI = importedAPIs.test
   export const userAPI = importedAPIs.user // æ–°å¢è¿™è¡Œ
   ```

3. **æ— éœ€æ‰‹åŠ¨å¯¼å…¥** - è‡ªåŠ¨å¯¼å…¥æœºåˆ¶ä¼šå¤„ç†å…¶ä½™å·¥ä½œ

### å‘½åè§„èŒƒ

- æ–‡ä»¶åï¼šcamelCase
- å¯¼å‡ºå˜é‡ï¼šcamelCase
- å¸¸é‡ï¼šcamelCaseï¼ˆå¯¹è±¡å±æ€§ï¼‰
- ç±»å‹å®šä¹‰ï¼šPascalCase

## ğŸš€ æ„å»ºå’Œéƒ¨ç½²

é¡¹ç›®å·²é€šè¿‡å®Œæ•´çš„æ„å»ºæµ‹è¯•ï¼š

```bash
# å¼€å‘ç¯å¢ƒ
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# é¢„è§ˆæ„å»ºç»“æœ
pnpm preview
```

æ„å»ºè¾“å‡ºä¼˜åŒ–ï¼š

- ä»£ç åˆ†åŒ…ä¼˜åŒ–
- é™æ€èµ„æºåˆ†ç±»
- Terser ä»£ç å‹ç¼©
- æ”¯æŒ Tree Shaking

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç›®å½•ç»“æ„è§„èŒƒ](./DIRECTORY_STRUCTURE.md)
- [å‘½åè§„èŒƒ](./NAMING_CONVENTIONS.md)
- [ä¸»é¢˜å˜é‡ç³»ç»ŸæŒ‡å—](./THEME_VARIABLES_GUIDE.md) ğŸ”¥
- [ç¯å¢ƒå˜é‡é…ç½®](./ENVIRONMENT_VARIABLES.md)
- [UnoCSS é…ç½®æŒ‡å—](./UNOCSS_GUIDE.md)
- [Cursor UnoCSS é…ç½®](./CURSOR_UNOCSS_CONFIG.md)

## ğŸ‰ æ€»ç»“

CC-Admin é¡¹ç›®å·²æˆåŠŸå»ºç«‹äº†å®Œæ•´çš„ç»Ÿä¸€ç›®å½•ç»“æ„ä½“ç³»ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–çš„æ¨¡å—å¯¼å…¥æœºåˆ¶ï¼Œå®ç°äº†é«˜æ•ˆã€å¯ç»´æŠ¤ã€å¯æ‰©å±•çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚è¿™å¥—æ¶æ„ä¸ºåç»­çš„åŠŸèƒ½å¼€å‘æä¾›äº†åšå®çš„åŸºç¡€ï¼Œæ˜¾è‘—æå‡äº†å¼€å‘ä½“éªŒå’Œä»£ç è´¨é‡ã€‚

---

**é¡¹ç›®çŠ¶æ€**: âœ… æ¶æ„å®Œæˆï¼Œå¯è¿›å…¥åŠŸèƒ½å¼€å‘é˜¶æ®µ
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ
**ç‰ˆæœ¬**: 1.0.0
